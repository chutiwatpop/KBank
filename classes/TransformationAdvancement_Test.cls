@isTest
private class TransformationAdvancement_Test {
	@isTest
	static void testTransformAdvancement() {
		SingleRequestMock fncResponse = new SingleRequestMock(200, 'Complete', advancementResponse(), null);
		SingleRequestMock lpmResponse = new SingleRequestMock(200, 'Complete', lpmResponse(), null);
		Map<String, HttpCalloutMock> endpointRespMap = new Map<String,HttpCalloutMock>();
        endpointRespMap.put(SME_CIRestWebservice.FNC_ENDPOINT, fncResponse);
        endpointRespMap.put(SME_CIRestWebservice.LPM_TDR_ENDPOINT, lpmResponse);
        HttpCalloutMock multiCalloutMock = new MultiRequestMock(endpointRespMap);
		Test.setMock(HttpCalloutMock.class, multiCalloutMock);

		Test.startTest();
		String cisId = '3661252';
		IProductUsageConfig productUsageConfig = new ProductUsageConfig();
		IProductUsageTransformation advTransformer = new TransformationAdvancement(cisId, 'ADV', productUsageConfig);
		ProductUsageController.ProductUsageModel productUsageInfo = advTransformer.transform();
		ProductUsageController.ProductUsageTable productUsageTable = productUsageInfo.productUsageTables.get('ADV_0');
		Test.stopTest();

		System.AssertEquals(20, productUsageTable.body[0].size());
		System.AssertEquals(4, productUsageTable.body.size());
		System.AssertEquals('100012648981', productUsageTable.body[0][0]);
		System.AssertEquals('945อ945014316I', productUsageTable.body[0][1]);
		System.AssertEquals('70000.00', productUsageTable.body[3][10]);
		System.AssertEquals('60000.00', productUsageTable.body[2][10]);
		System.AssertEquals('3661252', productUsageTable.body[0][19]);
    }

	@isTest
	static void testTransformAdvancementWithoutCISAndInstallment() {
		SingleRequestMock fncResponse = new SingleRequestMock(200, 'Complete', advancementWithoutCISAndInstallmentResponse(), null);
		SingleRequestMock lpmResponse = new SingleRequestMock(200, 'Complete', lpmResponse(), null);
		Map<String, HttpCalloutMock> endpointRespMap = new Map<String,HttpCalloutMock>();
        endpointRespMap.put(SME_CIRestWebservice.FNC_ENDPOINT, fncResponse);
        endpointRespMap.put(SME_CIRestWebservice.LPM_TDR_ENDPOINT, lpmResponse);
        HttpCalloutMock multiCalloutMock = new MultiRequestMock(endpointRespMap);
		Test.setMock(HttpCalloutMock.class, multiCalloutMock);

		Test.startTest();
		String cisId = '3661252';
		IProductUsageConfig productUsageConfig = new ProductUsageConfig();
		IProductUsageTransformation advTransformer = new TransformationAdvancement(cisId, 'ADV', productUsageConfig);
		ProductUsageController.ProductUsageModel productUsageInfo = advTransformer.transform();
		ProductUsageController.ProductUsageTable productUsageTable = productUsageInfo.productUsageTables.get('ADV_0');
		Test.stopTest();

		System.AssertEquals(20, productUsageTable.body[0].size());
		System.AssertEquals(4, productUsageTable.body.size());
		System.AssertEquals('5000.00', productUsageTable.body[0][10]);
    	System.AssertEquals('', productUsageTable.body[0][19]);
		System.AssertEquals('', productUsageTable.body[1][10]);
		System.AssertEquals('', productUsageTable.body[1][19]);
    	System.AssertEquals('', productUsageTable.body[2][10]);
		System.AssertEquals('3661252', productUsageTable.body[2][19]);
	}

	@isTest
	static void testTransformAdvancementWithOutInstallment() {
		SingleRequestMock fncResponse = new SingleRequestMock(200, 'Complete', advancementWithoutCISAndInstallmentResponse(), null);
		SingleRequestMock lpmResponse = new SingleRequestMock(200, 'Complete', emptyLPMResponse(), null);
		Map<String, HttpCalloutMock> endpointRespMap = new Map<String,HttpCalloutMock>();
        endpointRespMap.put(SME_CIRestWebservice.FNC_ENDPOINT, fncResponse);
        endpointRespMap.put(SME_CIRestWebservice.LPM_TDR_ENDPOINT, lpmResponse);
        HttpCalloutMock multiCalloutMock = new MultiRequestMock(endpointRespMap);
		Test.setMock(HttpCalloutMock.class, multiCalloutMock);

		Test.startTest();
		String cisId = '3661252';
		IProductUsageConfig productUsageConfig = new ProductUsageConfig();
		IProductUsageTransformation advTransformer = new TransformationAdvancement(cisId, 'ADV', productUsageConfig);
		ProductUsageController.ProductUsageModel productUsageInfo = advTransformer.transform();
		ProductUsageController.ProductUsageTable productUsageTable = productUsageInfo.productUsageTables.get('ADV_0');
		Test.stopTest();

		System.AssertEquals(20, productUsageTable.body[0].size());
		System.AssertEquals(4, productUsageTable.body.size());
    	System.AssertEquals('', productUsageTable.body[0][16]);
    	System.AssertEquals('', productUsageTable.body[0][17]);
		System.AssertEquals('', productUsageTable.body[0][18]);
		System.AssertEquals('', productUsageTable.body[1][16]);
		System.AssertEquals('', productUsageTable.body[1][17]);
		System.AssertEquals('', productUsageTable.body[1][18]);
    	System.AssertEquals('', productUsageTable.body[2][16]);
		System.AssertEquals('', productUsageTable.body[2][17]);
		System.AssertEquals('', productUsageTable.body[2][18]);
	}

	private static String advancementResponse() {
        String response = '{"dataResponse":{"Header":{"FCN_NM":"RS_FNC_SVC_AR_DTL","RQS_UNQ_ID":"2018-08-23T10:25:11+07:00","RSP_APL_ID":"655","RSP_UNQ_ID":"655_20180823_ea2c3b14bd97444eb4cf625d4a7ea802","RSP_TMS":"2018-08-23T10:25:35.789","RSP_CD":"00000","RSP_ST":"Success","TOT_RCRD":"67"},"Detail":{"IP_ID":"3661252","POS_DT":"2018-08-22","PCB_LMT_AR_LIST":{"PCB_LMT_AR_INF":[{"LMT_AR_ID":"945อ945014316I","ORIG_AR_ID":"100012648981","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945014316I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-11-01","EFF_DT":"2016-11-01","MAT_DT":"2016-11-02","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945014316I","AR_ID_ENCODED":"VdpFCjTjNjrPF/WEYvGaiQ==","ORIG_AR_ID":"100012648981","LMT_AR_ID":"945อ945014316I","ROOT_LMT_AR_ID":"945อ945014316I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-11-01","EFF_DT":"2016-11-01","CTR_DT":"2016-11-01","MAT_DT":"2016-11-02","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"8601516.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-11-01","MEMO_ACR_INT_AMT":"2333014.02","OTSND_BAL":"10934530.02","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945014316","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":{"PCB_AR_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2017-07-16","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"P","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":"0.00","INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"P","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}},{"LMT_AR_ID":"945อ945027916I","ORIG_AR_ID":"100012649252","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945027916I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-11-30","EFF_DT":"2016-11-30","MAT_DT":"2016-12-01","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945027916I","AR_ID_ENCODED":"+wZpATmTI6qaryxMW9S5IQ==","ORIG_AR_ID":"100012649252","LMT_AR_ID":"945อ945027916I","ROOT_LMT_AR_ID":"945อ945027916I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-11-30","EFF_DT":"2016-11-30","CTR_DT":"2016-11-30","MAT_DT":"2016-12-01","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9848280.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-11-30","MEMO_ACR_INT_AMT":"2553807.77","OTSND_BAL":"12402087.77","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945027916","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":{"PCB_AR_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2018-05-31","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"A","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":"0.00","INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"A","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}},{"LMT_AR_ID":"945อ945035916I","ORIG_AR_ID":"100012649341","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945035916I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-12-09","EFF_DT":"2016-12-09","MAT_DT":"2016-12-10","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945035916I","AR_ID_ENCODED":"vTVahokETmnFB+IT37XDVg==","ORIG_AR_ID":"100012649341","LMT_AR_ID":"945อ945035916I","ROOT_LMT_AR_ID":"945อ945035916I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-12-09","EFF_DT":"2016-12-09","CTR_DT":"2016-12-09","MAT_DT":"2016-12-10","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9848280.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-12-09","MEMO_ACR_INT_AMT":"2517382.61","OTSND_BAL":"12365662.61","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945035916","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":{"PCB_AR_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2017-07-16","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"P","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":"60000.00","INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"P","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}},{"LMT_AR_ID":"945อ945036816I","ORIG_AR_ID":"100012649384","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945036816I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-12-13","EFF_DT":"2016-12-13","MAT_DT":"2016-12-14","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945036816I","AR_ID_ENCODED":"XCQJyuT/Z7+nk/gcvGQ2SA==","ORIG_AR_ID":"100012649384","LMT_AR_ID":"945อ945036816I","ROOT_LMT_AR_ID":"945อ945036816I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-12-13","EFF_DT":"2016-12-13","CTR_DT":"2016-12-13","MAT_DT":"2016-12-14","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9013680.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-12-13","MEMO_ACR_INT_AMT":"2289227.33","OTSND_BAL":"11302907.33","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945036816","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":{"PCB_AR_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2018-05-31","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"A","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":"70000.00","INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"A","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}}]}}}}}';
        return response;
    }

	private static String advancementWithoutCISAndInstallmentResponse() {
        String response = '{"dataResponse":{"Header":{"FCN_NM":"RS_FNC_SVC_AR_DTL","RQS_UNQ_ID":"2018-08-23T10:25:11+07:00","RSP_APL_ID":"655","RSP_UNQ_ID":"655_20180823_ea2c3b14bd97444eb4cf625d4a7ea802","RSP_TMS":"2018-08-23T10:25:35.789","RSP_CD":"00000","RSP_ST":"Success","TOT_RCRD":"67"},"Detail":{"IP_ID":"3661252","POS_DT":"2018-08-22","PCB_LMT_AR_LIST":{"PCB_LMT_AR_INF":[{"LMT_AR_ID":"945อ945014316I","ORIG_AR_ID":"100012648981","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945014316I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-11-01","EFF_DT":"2016-11-01","MAT_DT":"2016-11-02","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945014316I","AR_ID_ENCODED":"VdpFCjTjNjrPF/WEYvGaiQ==","ORIG_AR_ID":"100012648981","LMT_AR_ID":"945อ945014316I","ROOT_LMT_AR_ID":"945อ945014316I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-11-01","EFF_DT":"2016-11-01","CTR_DT":"2016-11-01","MAT_DT":"2016-11-02","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"8601516.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-11-01","MEMO_ACR_INT_AMT":"2333014.02","OTSND_BAL":"10934530.02","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945014316","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":null,"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2017-07-16","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"P","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":"5000.00","INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"P","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}},{"LMT_AR_ID":"945อ945027916I","ORIG_AR_ID":"100012649252","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945027916I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-11-30","EFF_DT":"2016-11-30","MAT_DT":"2016-12-01","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945027916I","AR_ID_ENCODED":"+wZpATmTI6qaryxMW9S5IQ==","ORIG_AR_ID":"100012649252","LMT_AR_ID":"945อ945027916I","ROOT_LMT_AR_ID":"945อ945027916I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-11-30","EFF_DT":"2016-11-30","CTR_DT":"2016-11-30","MAT_DT":"2016-12-01","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9848280.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-11-30","MEMO_ACR_INT_AMT":"2553807.77","OTSND_BAL":"12402087.77","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945027916","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":null,"PYMT_SHD_LIST":{"PYMT_SHD_INF":[{"CNDT_STRT_DT":"2018-05-31","PYMT_MTH_CD":"2","PYMT_MTH_DSC":"Fixed P","PNP_PYMT_FRQ_CYC_CD":"1","PNP_PYMT_FRQ_UNIT_CD":"M","PNP_PYMT_FRQ_TP_CD":"A","PNP_PYMT_FRQ_DAY_CD":"E","PNP_AMT":null,"INT_PYMT_FRQ_CYC_CD":"1","INT_PYMT_FRQ_UNIT_CD":"M","INT_PYMT_FRQ_TP_CD":"A","INT_PYMT_FRQ_DAY_CD":"E","INT_AMT":"0.00"}]}}]}},{"LMT_AR_ID":"945อ945035916I","ORIG_AR_ID":"100012649341","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945035916I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-12-09","EFF_DT":"2016-12-09","MAT_DT":"2016-12-10","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945035916I","AR_ID_ENCODED":"vTVahokETmnFB+IT37XDVg==","ORIG_AR_ID":"100012649341","LMT_AR_ID":"945อ945035916I","ROOT_LMT_AR_ID":"945อ945035916I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-12-09","EFF_DT":"2016-12-09","CTR_DT":"2016-12-09","MAT_DT":"2016-12-10","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9848280.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-12-09","MEMO_ACR_INT_AMT":"2517382.61","OTSND_BAL":"12365662.61","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945035916","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":{"PCB_AR_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PYMT_SHD_LIST":null}]}},{"LMT_AR_ID":"945อ945036816I","ORIG_AR_ID":"100012649384","UPR_LMT_AR_ID":"000000000000","ROOT_LMT_AR_ID":"945อ945036816I","LMT_LVL_IND":"3","LMT_AR_PPS_TP_CD":"149","LMT_KBNK_IDY_CL_CD":"005010706","CTR_DT":"2016-12-13","EFF_DT":"2016-12-13","MAT_DT":"2016-12-14","CLS_DT":{"@nil":"false"},"DCN_TP_CD":"0","LMT_TP_CD":"0","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","SETUP_LMT_AMT":"0.00","CTR_LMT_AMT":"0.00","UNUSED_LMT_AMT":"0.00","HOLD_AMT":"0.00","AVL_LMT_AMT":"0.00","TOT_LI_AMT":"0.00","PCB_LMT_IP_LIST":{"PCB_LMT_IP_INF":[{"IP_ID":"3661252","AR_OWN_TP_CD":"2"}]},"PCB_AR_LIST":{"PCB_AR_INF":[{"AR_ID":"945อ945036816I","AR_ID_ENCODED":"XCQJyuT/Z7+nk/gcvGQ2SA==","ORIG_AR_ID":"100012649384","LMT_AR_ID":"945อ945036816I","ROOT_LMT_AR_ID":"945อ945036816I","AR_PPS_TP_CD":"149","KBNK_IDY_CL_CD":"005010706","OPN_DT":"2016-12-13","EFF_DT":"2016-12-13","CTR_DT":"2016-12-13","MAT_DT":"2016-12-14","CLS_DT":"","CTR_AR_TERM":"1","CTR_AR_TERM_UOM_TP_CD":"D","PD_GRP":"COM","PD_TP_CD":"8500","PD_SUB_TP_CD":"45010","MKT_CD":"0001","COA_PD_FTR_CD":"160104001","LPM_CLSS":"4","LMT_AMT":"0.00","PNP_AMT":"9013680.00","ACR_INT_AMT":"0.00","RVRS_INT_AMT":"0.00","RVRS_F":"2","RVRS_DT":"2016-12-13","MEMO_ACR_INT_AMT":"2289227.33","OTSND_BAL":"11302907.33","TOT_NO_INSTL":"0","EFF_RATE_PCT":"15.00000","EFF_INT_RATE_TP_CD":"035","EFF_SPRD_RATE_PCT":"0.00000","ORIG_ADV_AR_ID":"945อ945036816","AR_NM_TH":"ศิริโม่ โชติเจริญพร","AR_NM_EN":"SIRIMO CHOTICHAROENPORN","PYMT_TP_CD":"0","PYMT_DUE_DT":"2018-07-31","LAST_PYMT_DT":"","DDC_AR_ID":"0000000000","DDC_INT_TP_CD":"0","FEE_RATE_PCT":"0.00000","CMSN_TP_CD":"0","UPD_FEE_AMT":"0.00","PCB_AR_IP_LIST":null,"PYMT_SHD_LIST":null}]}}]}}}}}';
        return response;
    }

	private static String lpmResponse() {
        String response = '{"dataResponse":{"Header":{"FCN_NM":"RS_LPM_TDR_DPD","RQS_UNQ_ID":"","RSP_APL_ID":"655","RSP_UNQ_ID":"655_20180823_5fcc580ea843477e8ed9d2678b1b6938","RSP_TMS":"2018-08-23T10:46:24.841","RSP_CD":"00000","RSP_ST":"Success","TOT_RCRD":"1689"},"Detail":{"IP_ID":"3661252","LPM_DTL_LIST":{"LPM_DTL_INF":[{"POS_DT":"2018-05-31","LPM_CST_ID":"16686","AR_ID_ENCODED":"VdpFCjTjNjrPF/WEYvGaiQ==","DLQ_DYS":"180","TDR_F":"Y"},{"POS_DT":"2018-05-31","LPM_CST_ID":"16686","AR_ID_ENCODED":"+wZpATmTI6qaryxMW9S5IQ==","DLQ_DYS":"180","TDR_F":"Y"},{"POS_DT":"2018-05-31","LPM_CST_ID":"16686","AR_ID_ENCODED":"vTVahokETmnFB+IT37XDVg==","DLQ_DYS":"180","TDR_F":"Y"},{"POS_DT":"2018-05-31","LPM_CST_ID":"16686","AR_ID_ENCODED":"XCQJyuT/Z7+nk/gcvGQ2SA==","DLQ_DYS":"180","TDR_F":"Y"},{"POS_DT":"2018-05-31","LPM_CST_ID":"16686","AR_ID_ENCODED":"BhPtjf1VyZWiQu0Xukk8pQ==","DLQ_DYS":"","TDR_F":""}]}}}}}';
        return response;
    }

	private static String emptyLPMResponse() {
		String response = '{"dataResponse":{"Header":{"FCN_NM":"RS_LPM_TDR_DPD","RQS_UNQ_ID":"","RSP_APL_ID":"655","RSP_UNQ_ID":"655_20180823_5fcc580ea843477e8ed9d2678b1b6938","RSP_TMS":"2018-08-23T10:46:24.841","RSP_CD":"00000","RSP_ST":"Success","TOT_RCRD":"0"},"Detail":{"IP_ID":"21027657","LPM_DTL_LIST":null}}}';
		return response;
	}
}